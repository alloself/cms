{"version":3,"file":"js/32.fb7bea6e.js","mappings":"yJAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,mDAAmD,CAACF,EAAG,MAAM,CAACE,YAAY,6LAA6L,CAACF,EAAG,MAAM,CAACE,YAAY,wCAAwC,CAACN,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIS,OAAOC,OAAO,MAAMV,EAAIQ,GAAGR,EAAIS,OAAOE,WAAWP,EAAG,MAAM,CAACJ,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIS,OAAOG,cAAeZ,EAAIS,OAAOI,UAAYb,EAAIc,KAAMV,EAAG,MAAM,CAACE,YAAY,uJAAuJS,MAAM,CAAC,GAAK,aAAaf,EAAIgB,GAAIhB,EAAIS,OAAe,UAAE,SAASQ,GAAS,OAAOb,EAAG,MAAM,CAACc,IAAID,EAAQE,GAAGb,YAAY,gBAAgB,CAACF,EAAG,MAAM,CAACE,YAAY,iBAAiBc,MAAM,CAAE,cAAeH,EAAQI,aAAerB,EAAIc,KAAKK,KAAM,CAACf,EAAG,MAAM,CAACE,YAAY,gEAAgE,CAACF,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,oDAAoDc,MAAM,CAC3nC,sBAAuBH,EAAQI,aAAerB,EAAIc,KAAKK,GACvD,4BAA6BF,EAAQI,aAAerB,EAAIc,KAAKK,KAC9D,CAACnB,EAAIO,GAAG,IAAIP,EAAIQ,GAAGS,EAAQL,SAAS,kBAAiB,GAAGZ,EAAIsB,KAAKlB,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACF,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,QAAQ,CAACmB,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAO1B,EAAc,WAAE2B,WAAW,eAAerB,YAAY,2HAA2HS,MAAM,CAAC,KAAO,OAAO,YAAc,uBAAuBa,SAAS,CAAC,MAAS5B,EAAc,YAAG6B,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOC,OAAOC,YAAqBhC,EAAIiC,WAAWH,EAAOC,OAAOL,WAAUtB,EAAG,MAAM,CAACE,YAAY,0DAA0D,CAACF,EAAG,SAAS,CAACE,YAAY,4IAA4IS,MAAM,CAAC,KAAO,WAAW,CAACX,EAAG,OAAO,CAACE,YAAY,YAAYuB,GAAG,CAAC,MAAQ,SAASC,GAAQ9B,EAAIkC,YAAYlC,EAAIiC,YAAcjC,EAAIiC,WAAa,MAAO,CAACjC,EAAIO,GAAG,0BAC1/B4B,EAAkB,G,SCiDtB,GACAC,KAAAA,KAAAA,CACA3B,OAAAA,GACAwB,WAAAA,KAEAI,QAAAA,KACA,gCACA,qBACA,WAAAD,SAAA,4BACAE,UAAAA,KAAAA,OAAAA,GACA1B,UACAS,WAAAA,KAAAA,KAAAA,KAEA,+BAGAkB,SAAAA,KACA,kCACA,SACAC,OAAAA,GAAAA,EAAAA,OACA1B,KAAAA,GAAAA,EAAAA,KAAAA,QAGA,gBACA,0DC7EkQ,I,UCQ9P2B,GAAY,OACd,EACA1C,EACAoC,GACA,EACA,KACA,WACA,MAIF,EAAeM,EAAiB","sources":["webpack://account/./src/views/Ticket.vue?9f6c","webpack://account/src/views/Ticket.vue","webpack://account/./src/views/Ticket.vue?5b1c","webpack://account/./src/views/Ticket.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flex-1 p:2 sm:p-6 justify-between flex flex-col\"},[_c('div',{staticClass:\"site-news__item mb-4 text-white flex flex-col justify-between relative z-10 overflow-hidden rounded-xl p-7 bg-gradient-to-r from-block to-block-10 dark:from-main dark:to-main-20 lg:p-14\"},[_c('div',{staticClass:\"text-34px lg:text-56px leading-tight\"},[_vm._v(_vm._s(_vm.ticket.theme)+\" - \"+_vm._s(_vm.ticket.status))]),_c('div',[_vm._v(_vm._s(_vm.ticket.content))])]),(_vm.ticket.messages && _vm.user)?_c('div',{staticClass:\"flex flex-col space-y-4 py-3 overflow-y-auto scrollbar-thumb-blue scrollbar-thumb-rounded scrollbar-track-blue-lighter scrollbar-w-2 scrolling-touch\",attrs:{\"id\":\"messages\"}},_vm._l((_vm.ticket.messages),function(message){return _c('div',{key:message.id,staticClass:\"chat-message\"},[_c('div',{staticClass:\"flex items-end\",class:{ 'justify-end': message.creator_id === _vm.user.id }},[_c('div',{staticClass:\"flex flex-col space-y-2 text-xs max-w-xs order-2 items-start\"},[_c('div',[_c('div',{staticClass:\"px-4 py-2 rounded-lg inline-block rounded-bl-none\",class:{\n                                'bg-brand text-white': message.creator_id === _vm.user.id,\n                                'bg-gray-300 text-gray-600': message.creator_id !== _vm.user.id,\n                            }},[_vm._v(\" \"+_vm._s(message.content)+\" \")])])])])])}),0):_vm._e(),_c('div',{staticClass:\"pt-4 mb-2 sm:mb-0\"},[_c('div',{staticClass:\"relative flex\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newMessage),expression:\"newMessage\"}],staticClass:\"w-full focus:outline-none focus:placeholder-gray-400 text-gray-600 placeholder-gray-600 pl-3 bg-gray-200 rounded-lg py-3\",attrs:{\"type\":\"text\",\"placeholder\":\"Write your message!\"},domProps:{\"value\":(_vm.newMessage)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.newMessage=$event.target.value}}}),_c('div',{staticClass:\"absolute right-0 items-center inset-y-0 hidden sm:flex\"},[_c('button',{staticClass:\"inline-flex items-center justify-center rounded-r-lg px-4 py-3 transition duration-500 ease-in-out text-white bg-brand focus:outline-none\",attrs:{\"type\":\"button\"}},[_c('span',{staticClass:\"font-bold\",on:{\"click\":function($event){_vm.sendMessage(_vm.newMessage), (_vm.newMessage = '')}}},[_vm._v(\"Отправить\")])])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"flex-1 p:2 sm:p-6 justify-between flex flex-col\">\n        <div\n            class=\"site-news__item mb-4 text-white flex flex-col justify-between relative z-10 overflow-hidden rounded-xl p-7 bg-gradient-to-r from-block to-block-10 dark:from-main dark:to-main-20 lg:p-14\"\n        >\n            <div class=\"text-34px lg:text-56px leading-tight\">{{ ticket.theme }} - {{ ticket.status }}</div>\n            <div>{{ ticket.content }}</div>\n        </div>\n        <div\n            v-if=\"ticket.messages && user\"\n            id=\"messages\"\n            class=\"flex flex-col space-y-4 py-3 overflow-y-auto scrollbar-thumb-blue scrollbar-thumb-rounded scrollbar-track-blue-lighter scrollbar-w-2 scrolling-touch\"\n        >\n            <div v-for=\"message in ticket.messages\" class=\"chat-message\" :key=\"message.id\">\n                <div class=\"flex items-end\" :class=\"{ 'justify-end': message.creator_id === user.id }\">\n                    <div class=\"flex flex-col space-y-2 text-xs max-w-xs order-2 items-start\">\n                        <div>\n                            <div\n                                :class=\"{\n                                    'bg-brand text-white': message.creator_id === user.id,\n                                    'bg-gray-300 text-gray-600': message.creator_id !== user.id,\n                                }\"\n                                class=\"px-4 py-2 rounded-lg inline-block rounded-bl-none\"\n                            >\n                                {{ message.content }}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class=\"pt-4 mb-2 sm:mb-0\">\n            <div class=\"relative flex\">\n                <input\n                    type=\"text\"\n                    v-model=\"newMessage\"\n                    placeholder=\"Write your message!\"\n                    class=\"w-full focus:outline-none focus:placeholder-gray-400 text-gray-600 placeholder-gray-600 pl-3 bg-gray-200 rounded-lg py-3\"\n                />\n                <div class=\"absolute right-0 items-center inset-y-0 hidden sm:flex\">\n                    <button\n                        type=\"button\"\n                        class=\"inline-flex items-center justify-center rounded-r-lg px-4 py-3 transition duration-500 ease-in-out text-white bg-brand focus:outline-none\"\n                    >\n                        <span class=\"font-bold\" @click=\"sendMessage(newMessage), (newMessage = '')\">Отправить</span>\n                    </button>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n<script>\nimport { mapActions, mapState } from 'vuex';\nexport default {\n    data: () => ({\n        ticket: {},\n        newMessage: '',\n    }),\n    methods: {\n        ...mapActions('ticket', ['getTicket']),\n        async sendMessage(content) {\n            const { data } = await this.client.post('message', {\n                ticket_id: this.ticket.id,\n                content,\n                creator_id: this.user.id,\n            });\n            this.ticket.messages.push(data);\n        },\n    },\n    computed: {\n        ...mapState('ticket', ['tickets']),\n        ...mapState({\n            client: (state) => state.client,\n            user: (state) => state.auth.user,\n        }),\n    },\n    async created() {\n        this.ticket = await this.getTicket(this.$route.params.id);\n    },\n};\n</script>\n\n<style scoped>\n.scrollbar-w-2::-webkit-scrollbar {\n    width: 0.25rem;\n    height: 0.25rem;\n}\n\n.scrollbar-track-blue-lighter::-webkit-scrollbar-track {\n    --bg-opacity: 1;\n    background-color: #f7fafc;\n    background-color: rgba(247, 250, 252, var(--bg-opacity));\n}\n\n.scrollbar-thumb-blue::-webkit-scrollbar-thumb {\n    --bg-opacity: 1;\n    background-color: #edf2f7;\n    background-color: rgba(237, 242, 247, var(--bg-opacity));\n}\n\n.scrollbar-thumb-rounded::-webkit-scrollbar-thumb {\n    border-radius: 0.25rem;\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Ticket.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Ticket.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Ticket.vue?vue&type=template&id=1850bf94&scoped=true&\"\nimport script from \"./Ticket.vue?vue&type=script&lang=js&\"\nexport * from \"./Ticket.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Ticket.vue?vue&type=style&index=0&id=1850bf94&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1850bf94\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","ticket","theme","status","content","messages","user","attrs","_l","message","key","id","class","creator_id","_e","directives","name","rawName","value","expression","domProps","on","$event","target","composing","newMessage","sendMessage","staticRenderFns","data","methods","ticket_id","computed","client","component"],"sourceRoot":""}