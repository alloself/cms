"use strict";(self["webpackChunkaccount"]=self["webpackChunkaccount"]||[]).push([[32],{3032:function(e,t,s){s.r(t),s.d(t,{default:function(){return g}});var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"flex-1 p:2 sm:p-6 justify-between flex flex-col"},[s("div",{staticClass:"site-news__item mb-4 text-white flex flex-col justify-between relative z-10 overflow-hidden rounded-xl p-7 bg-gradient-to-r from-block to-block-10 dark:from-main dark:to-main-20 lg:p-14"},[s("div",{staticClass:"text-34px lg:text-56px leading-tight"},[e._v(e._s(e.ticket.theme)+" - "+e._s(e.ticket.status))]),s("div",[e._v(e._s(e.ticket.content))])]),e.ticket.messages&&e.user?s("div",{staticClass:"flex flex-col space-y-4 py-3 overflow-y-auto scrollbar-thumb-blue scrollbar-thumb-rounded scrollbar-track-blue-lighter scrollbar-w-2 scrolling-touch",attrs:{id:"messages"}},e._l(e.ticket.messages,(function(t){return s("div",{key:t.id,staticClass:"chat-message"},[s("div",{staticClass:"flex items-end",class:{"justify-end":t.creator_id===e.user.id}},[s("div",{staticClass:"flex flex-col space-y-2 text-xs max-w-xs order-2 items-start"},[s("div",[s("div",{staticClass:"px-4 py-2 rounded-lg inline-block rounded-bl-none",class:{"bg-brand text-white":t.creator_id===e.user.id,"bg-gray-300 text-gray-600":t.creator_id!==e.user.id}},[e._v(" "+e._s(t.content)+" ")])])])])])})),0):e._e(),s("div",{staticClass:"pt-4 mb-2 sm:mb-0"},[s("div",{staticClass:"relative flex"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.newMessage,expression:"newMessage"}],staticClass:"w-full focus:outline-none focus:placeholder-gray-400 text-gray-600 placeholder-gray-600 pl-3 bg-gray-200 rounded-lg py-3",attrs:{type:"text",placeholder:"Write your message!"},domProps:{value:e.newMessage},on:{input:function(t){t.target.composing||(e.newMessage=t.target.value)}}}),s("div",{staticClass:"absolute right-0 items-center inset-y-0 hidden sm:flex"},[s("button",{staticClass:"inline-flex items-center justify-center rounded-r-lg px-4 py-3 transition duration-500 ease-in-out text-white bg-brand focus:outline-none",attrs:{type:"button"}},[s("span",{staticClass:"font-bold",on:{click:function(t){e.sendMessage(e.newMessage),e.newMessage=""}}},[e._v("Отправить")])])])])])])},a=[],i=s(7673),r=s(6198),c=s(3019),l=s(629),o={data:function(){return{ticket:{},newMessage:""}},methods:(0,c.Z)((0,c.Z)({},(0,l.nv)("ticket",["getTicket"])),{},{sendMessage:function(e){var t=this;return(0,r.Z)((0,i.Z)().mark((function s(){var n,a;return(0,i.Z)().wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,t.client.post("message",{ticket_id:t.ticket.id,content:e,creator_id:t.user.id});case 2:n=s.sent,a=n.data,t.ticket.messages.push(a);case 5:case"end":return s.stop()}}),s)})))()}}),computed:(0,c.Z)((0,c.Z)({},(0,l.rn)("ticket",["tickets"])),(0,l.rn)({client:function(e){return e.client},user:function(e){return e.auth.user}})),created:function(){var e=this;return(0,r.Z)((0,i.Z)().mark((function t(){return(0,i.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getTicket(e.$route.params.id);case 2:e.ticket=t.sent;case 3:case"end":return t.stop()}}),t)})))()}},u=o,d=s(1001),f=(0,d.Z)(u,n,a,!1,null,"1850bf94",null),g=f.exports}}]);
//# sourceMappingURL=32-legacy.eb89eaf0.js.map